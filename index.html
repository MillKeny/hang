<!DOCTYPE html>
<html>
<header>
    <h1 style="text-shadow: 1px 3px 6px rgb(255, 255, 255); font-weight: 1000; color:rgb(30, 30, 30);">MillKeny-ի Անիմաստ Հայերեն Բառարանի Ծրագրեր (անճաշակ դիզայնով)</h1>
    <button class="hdr" onclick="location.href='index.html'">Հանգեր</button>
    <button class="hdr" onclick="location.href='mostfreq.html'">Ամենատարածվածներ</button>
    <button class="hdr" onclick="location.href='writer.html'">Պոետ</button>
    <button class="hdr" onclick="location.href='xach.html'">ԽԱՉԲԱՌ</button>
    <button class="hdr" onclick="location.href='dic.html'">Որոնում</button>
</header>
<head>
<meta charset="UTF-8">
<!-- <script type="text/javascript" src="script.js"></script>-->
<script type="text/javascript" src="dict.js"></script>
<link rel="stylesheet" href="style.css">

<title>Հայերեն Հանգեր</title>
<link rel="icon" type="image/x-icon" href="dictionary.png">

</head>
<body>
    <div class="title">
        <h1 >ՀԱՅԵՐԵՆ ՀԱՆԳԵՐԻ ԳԵՆԵՐԱՏՈՐ | BETA v4</h1>
        <!-- <h4>&#169 MillKeny 2023</h4> -->
        <h2 id="hed"></h2>
        <a href="dict.js" download target="_blank">Ներբեռնել Բառերի Ցանկը</a>
        <br>
        <input type="text" id="rifmi" placeholder="Բառը" class="search">
        <input type="number" id="cnt" placeholder="Քանակը" class="count">
        <input type="text" id="startl" placeholder="Սկսվում է..." class="startl">
        <br>
        <div>
            <h1 class="srchd">Որոնել.</h1>
            <button onclick="getb()" class="srchd">Բոլորը</button>
            <div class="dropdown">
                <button class="srchd" class="dropbtn">Այլ․․․</button>
                <div class="dropdown-content">
                    <button class="srchd" id="getbn" onclick="getbn()">Գոյականներ</button>
                    <button class="srchd" id="getbv" onclick="getbv()">Բայեր</button>
                    <button class="srchd" id="getbv" onclick="getba()">Ածականներ</button>
                </div>
            </div>  
            
            <input type="checkbox" id="ankapv">
            <h3 class="srchd">Անկապ Որոնում</h3>
        </div>
    </div>
    <h2 id="finded" class="ftitle">Գրեք Ձեր Բառը</h2>
    <h1 id="wrd" class="ftitle">-</h1>
    <h2 id="rif" class="rtitle">-</h2>

    <script>
        function setid(id, txt){
            document.getElementById(id).innerHTML = txt;
        }
        function getid(id){
            return document.getElementById(id).value
        }
        function knowid(id){
            return document.getElementById(id)
        }
        bars = window.bars;
        verbs = window.verbs;
        nouns = window.nouns;
        adjs = window.adjs;
        bars.push(...verbs);
        bars.push(...nouns);
        bars.push(...adjs);
        texts = window.texts;
        setid("hed", "Պարունակում է " + bars.length + " Բառ"); 
        function getb() {
            getrifm(getid("rifmi").toLowerCase(), bars, getid("cnt"))
        }
        function getbn() {
            getrifm(getid("rifmi").toLowerCase(), nouns, getid("cnt"))  
        }
        function getbv() {
            getrifm(getid("rifmi").toLowerCase(), verbs, getid("cnt"))
        }
        function getba() {
            if(getid("rifmi").toLowerCase() == "chamoy") window.open('chamoy.mp4');
            getrifm(getid("rifmi").toLowerCase(), adjs, getid("cnt"))
        }
        var rnda = [];
        var rndw = "";
        function getrifm(bar, dict, cnt){
            var out = ""
            var temp = []
            var tout = false
            var cc = 0;
            var vgood = 0;
            var good = 0;
            var norm = 0;
            var other = 0;
            var lcnt = 0;
            var isankap = 0;
    
            if(knowid("ankapv").checked == true){
                isankap = 1;
            }
    
            for(var lx = bar.length-1+isankap; lx > 1 - isankap; lx--){
                var barl = bar.slice(-lx)
                for(var x = 0; x < dict.length; x++){
                    if(dict[x].slice(-lx) == barl && temp.includes(dict[x]) == false && dict[x] != bar) {
                        if(getid("startl") == ""){
                            out += '<a style="color: rgb(0,' + (180 - (cc * 30)).toString() + ', 0); text-shadow: 0px 1px 2px gray;" target="_blank" href="https://hy.wiktionary.org/wiki/' + dict[x] + '">' + dict[x] + '</a>';
                            out += "<br>"
                            temp.push(dict[x]);
                            tout = true
                            if(cnt != 0) lcnt++;
                            rnda.push(dict[x]);
                        } else {
                            if(dict[x].substring(0, getid("startl").length) == getid("startl").toLowerCase()){
                                out += '<a style="color: rgb(0,' + (180 - (cc * 30)).toString() + ', 0); text-shadow: 0px 1px 2px gray;" target="_blank" href="https://hy.wiktionary.org/wiki/' + dict[x] + '">' + dict[x] + '</a>';
                                out += "<br>"
                                temp.push(dict[x]);
                                temp.sort();
                                tout = true
                                if(cnt != 0) lcnt++;
                                rnda.push(dict[x]);
                            }
                        }
                    }
                    
                    if(cnt != 0 && lcnt==cnt) break;
                }
                if(tout) {
                    out += "<hr>";
                    if(cc == 0) vgood = out.split('<br>').length-1;
                    else if(cc == 1) good = (out.split('<br>').length-1)-vgood;
                    else if(cc == 2) norm = ((out.split('<br>').length-1)-vgood)-good;
                    cc++;
                }
                tout = false
                if(cnt != 0 && lcnt==cnt) break;
            }
            other = (out.split('<br>').length-1)-(vgood+good+norm);
            if(out == ""){
                if(getid("rifmi") != ''){
                    setid("finded", 'Հանգեր Չգտնվեցին');
                    setid("rif", '-')
                    setid("wrd", '<a target="_blank" href="https://hy.wiktionary.org/wiki/' + getid("rifmi").toLowerCase() + '">' + getid("rifmi").value.toLowerCase() + '</a>');
                } else {
                    setid("finded", 'Գրեք Ձեր Բառը');
                    setid("rif", '-')
                    setid("wrd", '-')
                }
            } else {
                setid("rif", out)
                setid("wrd", '<a target="_blank" href="https://hy.wiktionary.org/wiki/' + getid("rifmi").toLowerCase() + '">' + getid("rifmi").toLowerCase() + '</a>')
                setid("finded", 'Գտնվեց ' + (out.split('<br>').length-1) + ' Բառ<br>Շատ Լավ՝ ' + vgood.toString() + '  |  Լավ՝ ' + good.toString() + '  |  Նորմալ՝ ' + norm.toString() + '  |  Մնացածը՝ ' + other.toString());
            }
        }
        function randome(arr){
            return arr[Math.floor(Math.random()*arr.length)]
        }
        function replaceCharacter(string, index, replacement) {
            return (
                string.slice(0, index) +
                replacement +
                string.slice(index + replacement.length)
            );
        }
        function wrdl(){
            var wordslen = 0;
            for(var i = 1; i <= bars.length-1; i++){
                wordslen+=bars[i].length;
            }
            console.log(wordslen, bars.length)
            console.log(wordslen / bars.length)
        }
        
        
    </script>

</body>
</html>